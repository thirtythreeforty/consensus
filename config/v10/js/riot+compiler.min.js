/* Riot v2.3.15, @license MIT, (c) 2015 Muut Inc. + contributors */
(function(e,t){"use strict";var n={version:"v2.3.15",settings:{}},r=0,i=[],o={},f="riot-",a=f+"tag",u="string",s="object",c="undefined",l="function",p=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,d=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],g=(e&&e.document||{}).documentMode|0;n.observable=function(e){e=e||{};var t={},n=Array.prototype.slice,r=function(e,t){e.replace(/\S+/g,t)},i=function(t,n){Object.defineProperty(e,t,{value:n,enumerable:false,writable:false,configurable:false})};i("on",function(n,i){if(typeof i!="function")return e;r(n,function(e,n){(t[e]=t[e]||[]).push(i);i.typed=n>0});return e});i("off",function(n,i){if(n=="*"&&!i)t={};else{r(n,function(e){if(i){var n=t[e];for(var r=0,o;o=n&&n[r];++r){if(o==i)n.splice(r--,1)}}else delete t[e]})}return e});i("one",function(t,n){function r(){e.off(t,r);n.apply(e,arguments)}return e.on(t,r)});i("trigger",function(i){var o=n.call(arguments,1),f;r(i,function(r){f=n.call(t[r]||[],0);for(var i=0,a;a=f[i];++i){if(a.busy)return;a.busy=1;a.apply(e,a.typed?[r].concat(o):o);if(f[i]!==a){i--}a.busy=0}if(t["*"]&&r!="*")e.trigger.apply(e,["*",r].concat(o))});return e});return e};(function(t){var n=/^.+?\/+[^\/]+/,r="EventListener",i="remove"+r,o="add"+r,f="hasAttribute",a="replace",u="popstate",s="hashchange",c="trigger",l=3,p=typeof e!="undefined"&&e,d=typeof document!="undefined"&&document,g=p&&history,h=p&&(g.location||p.location),v=M.prototype,m=d&&d.ontouchstart?"touchstart":"click",y=false,x=t.observable(),b=false,w,_,S,C,E,N=[],O=0;function L(e){return e.split(/[\/?#]/)}function R(e,t){var n=new RegExp("^"+t[a](/\*/g,"([^/?#]+?)")[a](/\.\./,".*")+"$"),r=e.match(n);if(r)return r.slice(1)}function j(e,t){var n;return function(){clearTimeout(n);n=setTimeout(e,t)}}function T(e){w=j(H,1);p[o](u,w);p[o](s,w);d[o](m,F);if(e)H(true)}function M(){this.$=[];t.observable(this);x.on("stop",this.s.bind(this));x.on("emit",this.e.bind(this))}function $(e){return e[a](/^\/|\/$/,"")}function A(e){return typeof e=="string"}function I(e){return(e||h.href||"")[a](n,"")}function k(e){return _[0]=="#"?(e||h.href||"").split(_)[1]||"":I(e)[a](_,"")}function H(e){var t=O==0;if(l<=O)return;O++;N.push(function(){var t=k();if(e||t!=S){x[c]("emit",t);S=t}});if(t){while(N.length){N[0]();N.shift()}O=0}}function F(e){if(e.which!=1||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)return;var t=e.target;while(t&&t.nodeName!="A")t=t.parentNode;if(!t||t.nodeName!="A"||t[f]("download")||!t[f]("href")||t.target&&t.target!="_self"||t.href.indexOf(h.href.match(n)[0])==-1)return;if(t.href!=h.href){if(t.href.split("#")[0]==h.href.split("#")[0]||_!="#"&&I(t.href).indexOf(_)!==0||!B(k(t.href),t.title||d.title))return}e.preventDefault()}function B(e,t,n){if(g){e=_+$(e);t=t||d.title;n?g.replaceState(null,t,e):g.pushState(null,t,e);d.title=t;b=false;H();return b}return x[c]("emit",k(e))}v.m=function(e,t,n){if(A(e)&&(!t||A(t)))B(e,t,n||false);else if(t)this.r(e,t);else this.r("@",e)};v.s=function(){this.off("*");this.$=[]};v.e=function(e){this.$.concat("@").some(function(t){var n=(t=="@"?C:E)($(e),$(t));if(typeof n!="undefined"){this[c].apply(null,[t].concat(n));return b=true}},this)};v.r=function(e,t){if(e!="@"){e="/"+$(e);this.$.push(e)}this.on(e,t)};var K=new M;var P=K.m.bind(K);P.create=function(){var e=new M;e.m.stop=e.s.bind(e);return e.m.bind(e)};P.base=function(e){_=e||"#";S=k()};P.exec=function(){H(true)};P.parser=function(e,t){if(!e&&!t){C=L;E=R}if(e)C=e;if(t)E=t};P.query=function(){var e={};var t=h.href||S;t[a](/[?&](.+?)=([^&]*)/g,function(t,n,r){e[n]=r});return e};P.stop=function(){if(y){if(p){p[i](u,w);p[i](s,w);d[i](m,F)}x[c]("stop");y=false}};P.start=function(e){if(!y){if(p){if(document.readyState=="complete")T(e);else p[o]("load",function(){setTimeout(function(){T(e)},1)})}y=true}};P.base();P.parser();t.route=P})(n);var h=function(e){var t="g",r=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f={"(":RegExp("([()])|"+o,t),"[":RegExp("([[\\]])|"+o,t),"{":RegExp("([{}])|"+o,t)},a="{ }";var u=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+o,t),a,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var s=e,c,l=[],p;function d(e){return e}function g(e,n){if(!n)n=l;return new RegExp(e.source.replace(/{/g,n[2]).replace(/}/g,n[3]),e.global?t:"")}function h(e){if(e===a)return u;var n=e.split(" ");if(n.length!==2||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e)){throw new Error('Unsupported brackets "'+e+'"')}n=n.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" "));n[4]=g(n[1].length>1?/{[\S\s]*?}/:u[4],n);n[5]=g(e.length>3?/\\({|})/g:u[5],n);n[6]=g(u[6],n);n[7]=RegExp("\\\\("+n[3]+")|([[({])|("+n[3]+")|"+o,t);n[8]=e;return n}function v(e){return e instanceof RegExp?c(e):l[e]}v.split=function x(e,t,n){if(!n)n=l;var r=[],i,o,a,u,s=n[6];o=a=s.lastIndex=0;while(i=s.exec(e)){u=i.index;if(o){if(i[2]){s.lastIndex=p(e,i[2],s.lastIndex);continue}if(!i[3])continue}if(!i[1]){c(e.slice(a,u));a=s.lastIndex;s=n[6+(o^=1)];s.lastIndex=a}}if(e&&a<e.length){c(e.slice(a))}return r;function c(e){if(t||o)r.push(e&&e.replace(n[5],"$1"));else r.push(e)}function p(e,t,n){var r,i=f[t];i.lastIndex=n;n=1;while(r=i.exec(e)){if(r[1]&&!(r[1]===t?++n:--n))break}return n?e.length:i.lastIndex}};v.hasExpr=function b(e){return l[4].test(e)};v.loopKeys=function w(e){var t=e.match(l[9]);return t?{key:t[1],pos:t[2],val:l[0]+t[3].trim()+l[1]}:{val:e.trim()}};v.hasRaw=function(e){return l[10].test(e)};v.array=function _(e){return e?h(e):l};function m(e){if((e||(e=a))!==l[8]){l=h(e);c=e===a?d:g;l[9]=c(u[9]);l[10]=c(u[10])}s=e}function y(e){var t;e=e||{};t=e.brackets;Object.defineProperty(e,"brackets",{set:m,get:function(){return s},enumerable:true});p=e;m(t)}Object.defineProperty(v,"settings",{set:y,get:function(){return p}});v.settings=typeof n!=="undefined"&&n.settings||{};v.set=m;v.R_STRINGS=i;v.R_MLCOMMS=r;v.S_QBLOCKS=o;return v}();var v=function(){var t={};function n(e,n){if(!e)return e;return(t[e]||(t[e]=i(e))).call(n,r)}n.haveRaw=h.hasRaw;n.hasExpr=h.hasExpr;n.loopKeys=h.loopKeys;n.errorHandler=null;function r(e,t){if(n.errorHandler){e.riotData={tagName:t&&t.root&&t.root.tagName,_riot_id:t&&t._riot_id};n.errorHandler(e)}}function i(e){var t=a(e);if(t.slice(0,11)!=="try{return ")t="return "+t;return new Function("E",t+";")}var o=RegExp(h.S_QBLOCKS,"g"),f=/\x01(\d+)~/g;function a(e){var t=[],n,r=h.split(e.replace(/\u2057/g,'"'),1);if(r.length>2||r[0]){var i,o,a=[];for(i=o=0;i<r.length;++i){n=r[i];if(n&&(n=i&1?c(n,1,t):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"'))a[o++]=n}n=o<2?a[0]:"["+a.join(",")+'].join("")'}else{n=c(r[1],0,t)}if(t[0])n=n.replace(f,function(e,n){return t[n].replace(/\r/g,"\\r").replace(/\n/g,"\\n")});return n}var u={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/;function c(e,t,n){if(e[0]==="=")e=e.slice(1);e=e.replace(o,function(e,t){return e.length>2&&!t?""+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(e){var r=[],i=0,f;while(e&&(f=e.match(s))&&!f.index){var a,c,l=/,|([[{(])|$/g;e=RegExp.rightContext;a=f[2]?n[f[2]].slice(1,-1).trim().replace(/\s+/g," "):f[1];while(c=(f=l.exec(e))[1])p(c,l);c=e.slice(0,f.index);e=RegExp.rightContext;r[i++]=g(c,1,a)}e=!i?g(e,t):i>1?"["+r.join(",")+'].join(" ").trim()':r[0]}return e;function p(t,n){var r,i=1,o=u[t];o.lastIndex=n.lastIndex;while(r=o.exec(e)){if(r[0]===t)++i;else if(!--i)break}n.lastIndex=i?e.length:o.lastIndex}}var l='"in this?this:'+(typeof e!=="object"?"global":"window")+").",p=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,d=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function g(e,t,n){var r;e=e.replace(p,function(e,t,n,i,o){if(n){i=r?0:i+e.length;if(n!=="this"&&n!=="global"&&n!=="window"){e=t+'("'+n+l+n;if(i)r=(o=o[i])==="."||o==="("||o==="["}else if(i){r=!d.test(o.slice(i))}}return e});if(r){e="try{return "+e+"}catch(e){E(e,this)}"}if(n){e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""'}else if(t){e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'}return e}n.parse=function(e){return e};n.version=h.version="v2.3.21";return n}();var m=function(e){var t=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,n={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},r="div";e=e&&e<10;var i=e?p:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;function o(e,t){var n=e&&e.match(/^\s*<([-\w]+)/),o=n&&n[1].toLowerCase(),u=W(r);e=a(e,t||"");if(i.test(o))u=f(u,e,o);else u.innerHTML=e;u.stub=true;return u}function f(e,t,r){var i=r[0]==="o",o=i?"select>":"table>";e.innerHTML="<"+o+t.trim()+"</"+o;o=e.firstChild;if(i){o.selectedIndex=-1}else{var f=n[r];if(f&&o.children.length===1)o=ee(f,o)}return o}function a(e,n){if(!/<yield\b/i.test(e))return e;var r=0;e=e.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(e,i){var o=n.match(RegExp(t.replace("@",i),"i"));++r;return o&&o[2]||""});return r?e:e.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,n)}return o}(g);function y(e,t,n){var r={};r[e.key]=t;if(e.pos)r[e.pos]=n;return r}function x(e,t){var n=t.length,r=e.length,i;while(n>r){i=t[--n];t.splice(n,1);i.unmount()}}function b(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];if(G(r))T(r,function(e){B(e,n,t)});else B(r,n,t)})}function w(e,t,n){var r=e._root,i;e._virts=[];while(r){i=r.nextSibling;if(n)t.insertBefore(r,n._root);else t.appendChild(r);e._virts.push(r);r=i}}function _(e,t,n,r){var i=e._root,o,f=0;for(;f<r;f++){o=i.nextSibling;t.insertBefore(i,n._root);i=o}}function S(e,t,n){$(e,"each");var r=typeof I(e,"no-reorder")!==u||$(e,"no-reorder"),i=D(e),f=o[i]||{tmpl:e.outerHTML},a=p.test(i),s=e.parentNode,c=document.createTextNode(""),l=H(e),d=/^option$/i.test(i),g=[],h=[],m,S=e.tagName=="VIRTUAL";n=v.loopKeys(n);s.insertBefore(c,e);t.one("before-mount",function(){e.parentNode.removeChild(e);if(s.stub)s=t.root}).on("update",function(){var u=v(n.val,t),p=document.createDocumentFragment();if(!G(u)){m=u||false;u=m?Object.keys(u).map(function(e){return y(n,e,u[e])}):[]}u.forEach(function(u,c){var d=r&&u instanceof Object,v=h.indexOf(u),x=~v&&d?v:c,C=g[x];u=!m&&n.key?y(n,u,c):u;if(!d&&!C||d&&!~v||!C){C=new O(f,{parent:t,isLoop:true,hasImpl:!!o[i],root:a?s:e.cloneNode(),item:u},e.innerHTML);C.mount();if(S)C._root=C.root.firstChild;if(c==g.length){if(S)w(C,p);else p.appendChild(C.root)}else{if(S)w(C,s,g[c]);else s.insertBefore(C.root,g[c].root);h.splice(c,0,u)}g.splice(c,0,C);x=c}else C.update(u);if(x!==c&&d){if(S)_(C,s,g[c],e.childNodes.length);else s.insertBefore(C.root,g[c].root);if(n.pos)C[n.pos]=c;g.splice(c,0,g.splice(x,1)[0]);h.splice(c,0,h.splice(x,1)[0]);if(!l&&C.tags)b(C,c)}C._item=u;q(C,"_parent",t)});x(u,g);if(d)s.appendChild(p);else s.insertBefore(p,c);if(l)t.tags[i]=g;h=u.slice()})}var C=function(t){if(!e)return{add:function(){},inject:function(){}};var n=function(){var e=W("style");k(e,"type","text/css");var t=ee("style[type=riot]");if(t){if(t.id)e.id=t.id;t.parentNode.replaceChild(e,t)}else document.getElementsByTagName("head")[0].appendChild(e);return e}();var r=n.styleSheet,i="";Object.defineProperty(t,"styleNode",{value:n,writable:true});return{add:function(e){i+=e},inject:function(){if(i){if(r)r.cssText+=i;else n.innerHTML+=i;i=""}}}}(n);function E(e,t,n,r){Z(e,function(e){if(e.nodeType==1){e.isLoop=e.isLoop||(e.parentNode&&e.parentNode.isLoop||I(e,"each"))?1:0;if(n){var i=H(e);if(i&&!e.isLoop)n.push(K(i,{root:e,parent:t},e.innerHTML,t))}if(!e.isLoop||r)re(e,t,[])}})}function N(e,t,n){function r(e,t,r){if(v.hasExpr(t)){n.push(z({dom:e,expr:t},r))}}Z(e,function(e){var n=e.nodeType,i;if(n==3&&e.parentNode.tagName!="STYLE")r(e,e.nodeValue);if(n!=1)return;i=I(e,"each");if(i){S(e,t,i);return false}T(e.attributes,function(t){var n=t.name,i=n.split("__")[1];r(e,t.value,{attr:i||n,bool:i});if(i){$(e,n);return false}});if(H(e))return false})}function O(e,o,f){var a=n.observable(this),l=te(o.opts)||{},p=o.parent,g=o.isLoop,h=o.hasImpl,y=V(o.item),x=[],b=[],w=o.root,_=e.fn,S=w.tagName.toLowerCase(),C={},O=[],L;if(_&&w._tag)w._tag.unmount(true);this.isMounted=false;w.isLoop=g;w._tag=this;q(this,"_riot_id",++r);z(this,{parent:p,root:w,opts:l,tags:{}},y);T(w.attributes,function(e){var t=e.value;if(v.hasExpr(t))C[e.name]=t});L=m(e.tmpl,f);function R(){var e=h&&g?a:p||a;T(w.attributes,function(t){var n=t.value;l[A(t.name)]=v.hasExpr(n)?v(n,e):n});T(Object.keys(C),function(t){l[A(t)]=v(C[t],e)})}function I(e){for(var t in y){if(typeof a[t]!==c&&Q(a,t))a[t]=e[t]}}function H(){if(!a.parent||!g)return;T(Object.keys(a.parent),function(e){var t=!U(d,e)&&U(O,e);if(typeof a[e]===c||t){if(!t)O.push(e);a[e]=a.parent[e]}})}q(this,"update",function(e){e=V(e);H();if(e&&typeof y===s){I(e);y=e}z(a,e);R();a.trigger("update",e);j(x,a);oe(function(){a.trigger("updated")});return this});q(this,"mixin",function(){T(arguments,function(e){var t;e=typeof e===u?n.mixin(e):e;if(M(e)){t=new e;e=e.prototype}else t=e;T(Object.getOwnPropertyNames(e),function(e){if(e!="init")a[e]=M(t[e])?t[e].bind(a):t[e]});if(t.init)t.init.bind(a)()});return this});q(this,"mount",function(){R();if(_)_.call(a,l);N(L,a,x);F(true);if(e.attrs||h){J(e.attrs,function(e,t){k(w,e,t)});N(a.root,a,x)}if(!a.parent||g)a.update(y);a.trigger("before-mount");if(g&&!h){a.root=w=L.firstChild}else{while(L.firstChild)w.appendChild(L.firstChild);if(w.stub)a.root=w=p.root}if(g)E(a.root,a.parent,null,true);if(!a.parent||a.parent.isMounted){a.isMounted=true;a.trigger("mount")}else a.parent.one("mount",function(){if(!X(a.root)){a.parent.isMounted=a.isMounted=true;a.trigger("mount")}})});q(this,"unmount",function(e){var n=w,r=n.parentNode,o,f=i.indexOf(a);a.trigger("before-unmount");if(~f)i.splice(f,1);if(this._virts){T(this._virts,function(e){if(e.parentNode)e.parentNode.removeChild(e)})}if(r){if(p){o=P(p);if(G(o.tags[S]))T(o.tags[S],function(e,t){if(e._riot_id==a._riot_id)o.tags[S].splice(t,1)});else o.tags[S]=t}else while(n.firstChild)n.removeChild(n.firstChild);if(!e)r.removeChild(n);else $(r,"riot-tag")}a.trigger("unmount");F();a.off("*");a.isMounted=false;delete w._tag});function F(e){T(b,function(t){t[e?"mount":"unmount"]()});if(!p)return;var t=e?"on":"off";if(g)p[t]("unmount",a.unmount);else p[t]("update",a.update)[t]("unmount",a.unmount)}E(L,this,b)}function L(t,n,r,i){r[t]=function(t){var o=i._parent,f=i._item,a;if(!f)while(o&&!f){f=o._item;o=o._parent}t=t||e.event;if(Q(t,"currentTarget"))t.currentTarget=r;if(Q(t,"target"))t.target=t.srcElement;if(Q(t,"which"))t.which=t.charCode||t.keyCode;t.item=f;if(n.call(i,t)!==true&&!/radio|check/.test(r.type)){if(t.preventDefault)t.preventDefault();t.returnValue=false}if(!t.preventUpdate){a=f?P(o):i;a.update()}}}function R(e,t,n){if(!e)return;e.insertBefore(n,t);e.removeChild(t)}function j(e,t){T(e,function(e,n){var r=e.dom,i=e.attr,o=v(e.expr,t),u=e.dom.parentNode;if(e.bool)o=o?i:false;else if(o==null)o="";if(u&&u.tagName=="TEXTAREA"){o=(""+o).replace(/riot-/g,"");u.value=o}if(e.value===o)return;e.value=o;if(!i){r.nodeValue=""+o;return}$(r,i);if(M(o)){L(i,o,r,t)}else if(i=="if"){var c=e.stub,l=function(){R(c.parentNode,c,r)},p=function(){R(r.parentNode,r,c)};if(o){if(c){l();r.inStub=false;if(!X(r)){Z(r,function(e){if(e._tag&&!e._tag.isMounted)e._tag.isMounted=!!e._tag.trigger("mount")})}}}else{c=e.stub=c||document.createTextNode("");if(r.parentNode)p();else(t.parent||t).one("updated",p);r.inStub=true}}else if(/^(show|hide)$/.test(i)){if(i=="hide")o=!o;r.style.display=o?"":"none"}else if(i=="value"){r.value=o}else if(ie(i,f)&&i!=a){if(o)k(r,i.slice(f.length),o)}else{if(e.bool){r[i]=o;if(!o)return}if(o===0||o&&typeof o!==s)k(r,i,o)}})}function T(e,t){var n=e?e.length:0;for(var r=0,i;r<n;r++){i=e[r];if(i!=null&&t(i,r)===false)r--}return e}function M(e){return typeof e===l||false}function $(e,t){e.removeAttribute(t)}function A(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function I(e,t){return e.getAttribute(t)}function k(e,t,n){e.setAttribute(t,n)}function H(e){return e.tagName&&o[I(e,a)||e.tagName.toLowerCase()]}function F(e,t,n){var r=n.tags[t];if(r){if(!G(r))if(r!==e)n.tags[t]=[r];if(!U(n.tags[t],e))n.tags[t].push(e)}else{n.tags[t]=e}}function B(e,t,n){var r=e.parent,i;if(!r)return;i=r.tags[t];if(G(i))i.splice(n,0,i.splice(i.indexOf(e),1)[0]);else F(e,t,r)}function K(e,t,n,r){var i=new O(e,t,n),o=D(t.root),f=P(r);i.parent=f;i._parent=r;F(i,o,f);if(f!==r)F(i,o,r);t.root.innerHTML="";return i}function P(e){var t=e;while(!H(t.root)){if(!t.parent)break;t=t.parent}return t}function q(e,t,n,r){Object.defineProperty(e,t,z({value:n,enumerable:false,writable:false,configurable:false},r));return e}function D(e){var t=H(e),n=I(e,"name"),r=n&&!v.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return r}function z(e){var t,n=arguments;for(var r=1;r<n.length;++r){if(t=n[r]){for(var i in t){if(Q(e,i))e[i]=t[i]}}}return e}function U(e,t){return~e.indexOf(t)}function G(e){return Array.isArray(e)||e instanceof Array}function Q(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===c||n&&n.writable}function V(e){if(!(e instanceof O)&&!(e&&typeof e.trigger==l))return e;var t={};for(var n in e){if(!U(d,n))t[n]=e[n]}return t}function Z(e,t){if(e){if(t(e)===false)return;else{e=e.firstChild;while(e){Z(e,t);e=e.nextSibling}}}}function J(e,t){var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;while(n=r.exec(e)){t(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function X(e){while(e){if(e.inStub)return true;e=e.parentNode}return false}function W(e){return document.createElement(e)}function Y(e,t){return(t||document).querySelectorAll(e)}function ee(e,t){return(t||document).querySelector(e)}function te(e){function t(){}t.prototype=e;return new t}function ne(e){return I(e,"id")||I(e,"name")}function re(e,t,n){var r=ne(e),i,o=function(o){if(U(n,r))return;i=G(o);if(!o)t[r]=e;else if(!i||i&&!U(o,e)){if(i)o.push(e);else t[r]=[o,e]}};if(!r)return;if(v.hasExpr(r))t.one("mount",function(){r=ne(e);o(t[r])});else o(t[r])}function ie(e,t){return e.slice(0,t.length)===t}var oe=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t}(e||{});function fe(e,t,n){var r=o[t],f=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";if(r&&e)r=new O(r,{root:e,opts:n},f);if(r&&r.mount){r.mount();if(!U(i,r))i.push(r)}return r}n.util={brackets:h,tmpl:v};n.mixin=function(){var e={};return function(t,n){if(!n)return e[t];e[t]=n}}();n.tag=function(e,t,n,r,i){if(M(r)){i=r;if(/^[\w\-]+\s?=/.test(n)){r=n;n=""}else r=""}if(n){if(M(n))i=n;else C.add(n)}o[e]={name:e,tmpl:t,attrs:r,fn:i};return e};n.tag2=function(e,t,n,r,i,f){if(n)C.add(n);o[e]={name:e,tmpl:t,attrs:r,fn:i};return e};n.mount=function(e,t,n){var r,i,f=[];function c(e){var t="";T(e,function(e){if(!/[^-\w]/.test(e))t+=",*["+a+"="+e.trim()+"]"});return t}function l(){var e=Object.keys(o);return e+c(e)}function p(e){var r;if(e.tagName){if(t&&(!(r=I(e,a))||r!=t))k(e,a,t);var i=fe(e,t||e.getAttribute(a)||e.tagName.toLowerCase(),n);if(i)f.push(i)}else if(e.length)T(e,p)}C.inject();if(typeof t===s){n=t;t=0}if(typeof e===u){if(e==="*")e=i=l();else e+=c(e.split(","));r=e?Y(e):[]}else r=e;if(t==="*"){t=i||l();if(r.tagName)r=Y(t,r);else{var d=[];T(r,function(e){d.push(Y(t,e))});r=d}t=0}if(r.tagName)p(r);else T(r,p);return f};n.update=function(){return T(i,function(e){e.update()})};n.Tag=O;var ae=function(){function t(t){var n=e[t];if(n)return n;throw new Error(t+" parser not found.")}function n(e,t){if(t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e}var r={html:{jade:function(e,r,i){r=n({pretty:true,filename:i,doctype:"html"},r);return t("jade").render(e,r)}},css:{less:function(e,r,i,o){var f;i=n({sync:true,syncImport:true,filename:o},i);t("less").render(r,i,function(e,t){if(e)throw e;f=t.css});return f}},js:{es6:function(e,r){r=n({blacklist:["useStrict","strict","react"],sourceMaps:false,comments:false},r);return t("babel").transform(e,r).code},babel:function(e,r,i){return t("babel").transform(e,n({filename:i},r)).code},coffee:function(e,r){return t("CoffeeScript").compile(e,n({bare:true},r))},livescript:function(e,r){return t("livescript").compile(e,n({bare:true,header:false},r))},typescript:function(e,n){return t("typescript")(e,n)},none:function(e){return e}}};r.js.javascript=r.js.none;r.js.coffeescript=r.js.coffee;return r}();n.parsers=ae;var ue=function(){var e=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source;var t=h.R_STRINGS.source;var r=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g;var i=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+e,"g");var o=/<([-\w]+)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g;var f=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|"+"compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|"+"multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|"+"selected|sortable|truespeed|typemustmatch)$");var a=["style","src","d"];var u=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/;var s=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi;var c=/^"(?:number|date(?:time)?|time|month|email|color)\b/i;var l=/[ \t]+$/gm;var p='"',d="'";function g(e){var t,n=i;if(~e.indexOf("\r")){e=e.replace(/\r\n?/g,"\n")}n.lastIndex=0;while(t=n.exec(e)){if(t[0][0]==="<"){e=RegExp.leftContext+RegExp.rightContext;n.lastIndex=t[3]+1}}return e}function v(e,t){var n=[],i,o,u;r.lastIndex=0;e=e.replace(/\s+/g," ");while(i=r.exec(e)){var s=i[1].toLowerCase(),l=i[2];if(!l){n.push(s)}else{if(l[0]!==p){l=p+(l[0]===d?l.slice(1,-1):l)+p}if(s==="type"&&c.test(l)){o=l}else{if(/\u0001\d/.test(l)){if(s==="value")u=1;else if(f.test(s))s="__"+s;else if(~a.indexOf(s))s="riot-"+s}n.push(s+"="+l)}}}if(o){if(u)o=p+t._bp[0]+d+o.slice(1,-1)+d+t._bp[1]+p;n.push("type="+o)}return n.join(" ")}function m(e,t,n){var r=n._bp;if(e&&r[4].test(e)){var i=t.expr&&(t.parser||t.type)?E:0,o=h.split(e,0,r),f,a;for(var u=1;u<o.length;u+=2){f=o[u];if(f[0]==="^"){f=f.slice(1)}else if(i){a=f[0]==="=";f=i(a?f.slice(1):f,t).trim();if(f.slice(-1)===";")f=f.slice(0,-1);if(a)f="="+f}o[u]=""+(n.push(f)-1)+r[1]}e=o.join("")}return e}function y(e,t){if(t.length){e=e.replace(/\u0001(\d+)/g,function(e,n){var r=t[n];if(r[0]==="="){r=r.replace(h.R_STRINGS,function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")})}return t._bp[0]+r.trim().replace(/[\r\n]+/g," ").replace(/"/g,"⁗")})}return e}function x(e,t,n){e=m(e,t,n).replace(o,function(e,t,r,i){t=t.toLowerCase();i=i&&!u.test(t)?"></"+t:"";if(r)t+=" "+v(r,n);return"<"+t+i+">"});if(!t.whitespace){var r=[];if(/<pre[\s>]/.test(e)){e=e.replace(s,function(e){r.push(e);return""})}e=e.trim().replace(/\s+/g," ");if(r.length)e=e.replace(/\u0002/g,function(){return r.shift()})}if(t.compact)e=e.replace(/>[ \t]+<([-\w\/])/g,"><$1");return y(e,n).replace(l,"")}function b(e,t,n){if(Array.isArray(t)){n=t;t={}}else{if(!n)n=[];if(!t)t={}}n._bp=h.array(t.brackets);return x(g(e),t,n)}var w=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m;var _=RegExp("[{}]|"+h.S_QBLOCKS,"g");var S=RegExp(h.R_MLCOMMS.source+"|//[^\r\n]*|"+h.S_QBLOCKS,"g");function C(e){var t=[],n,r,i,o,f=RegExp;if(~e.indexOf("/"))e=a(e,S);while(n=e.match(w)){t.push(f.leftContext);e=f.rightContext;i=u(e,_);o=n[1];r=!/^(?:if|while|for|switch|catch|function)$/.test(o);o=r?n[0].replace(o,"this."+o+" = function"):n[0];t.push(o,e.slice(0,i));e=e.slice(i);if(r&&!/^\s*.\s*bind\b/.test(e))t.push(".bind(this)")}return t.length?t.join("")+e:e;function a(e,t,n){t.lastIndex=0;while(n=t.exec(e)){if(n[0][0]==="/"&&!n[1]&&!n[2]){e=f.leftContext+" "+f.rightContext;t.lastIndex=n[3]+1}}return e}function u(e,t){var n,r=1;t.lastIndex=0;while(r&&(n=t.exec(e))){if(n[0]==="{")++r;else if(n[0]==="}")--r}return r?e.length:t.lastIndex}}function E(e,t,n,r,i){if(!/\S/.test(e))return"";if(!n)n=t.type;var o=t.parser||(n?ae.js[n]:C);if(!o){throw new Error('JS parser not found: "'+n+'"')}return o(e,r,i).replace(/\r\n?/g,"\n").replace(l,"")}function N(e,t,n,r){if(typeof t==="string"){r=n;n=t;t={}}if(n&&typeof n==="object"){r=n;n=""}if(!r)r={};return E(e,t||{},n,r.parserOptions,r.url)}var O=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+e,"g");function L(e,t){var n=":scope";return t.replace(O,function(t,r,i){if(!i)return t;i=i.replace(/[^,]+/g,function(t){var r=t.trim();if(!r||r==="from"||r==="to"||r.slice(-1)==="%"){return t}if(r.indexOf(n)<0){r=e+" "+r+',[riot-tag="'+e+'"] '+r}else{r=r.replace(n,e)+","+r.replace(n,'[riot-tag="'+e+'"]')}return t.slice(-1)===" "?r+" ":r});return r?r+" "+i:i})}function R(e,t,n,r){var i=(r||(r={})).scoped;if(n){if(n==="scoped-css"){i=true}else if(ae.css[n]){e=ae.css[n](t,e,r.parserOpts||{},r.url)}else if(n!=="css"){throw new Error('CSS parser not found: "'+n+'"')}}e=e.replace(h.R_MLCOMMS,"").replace(/\s+/g," ").trim();if(i){if(!t){throw new Error("Can not parse scoped CSS without a tagName")}e=L(t,e)}return e}function j(e,t,n){if(t&&typeof t==="object"){n=t;t=""}else if(!n)n={};return R(e,n.tagName,t,n)}var T=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i;var M="\\s*=\\s*("+t+"|{[^}]+}|\\S+)";var $=/\/>\n|^<(?:\/?[-\w]+\s*|[-\w]+\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/;function A(e,t){if(!e)return"''";e=d+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+d;return t&&~e.indexOf("\n")?e.replace(/\n/g,"\\n"):e}function I(e,t,n,r,i,o){var f=", ",a="}"+(o.length?", "+A(o._bp[8]):"")+");";if(i&&i.slice(-1)!=="\n")a="\n"+a;return"riot.tag2('"+e+d+f+A(t,1)+f+A(n)+f+A(r)+", function(opts) {\n"+i+a}function k(e){if(/<[-\w]/.test(e)){var t,n=e.lastIndexOf("<"),r=e.length;while(~n){t=e.slice(n,r).match($);if(t){n+=t.index+t[0].length;return[e.slice(0,n),e.slice(n)]}r=n;n=e.lastIndexOf("<",n-1)}}return["",e]}function H(e){if(e){var t=e.match(T);t=t&&(t[2]||t[3]);if(t){return t.replace("text/","")}}return""}function F(e,t){if(e){var n=e.match(RegExp("\\s"+t+M,"i"));n=n&&n[1];if(n){return/^['"]/.test(n)?n.slice(1,-1):n}}return""}function B(e){var t=F(e,"options");return t?JSON.parse(t):null}function K(e,t,n,r){var i=H(n);return E(e,t,i,B(n),r)}function P(e,t,n,r,i){var o={parserOpts:B(n),scoped:n&&/\sscoped(\s|=|$)/i.test(n),url:r};return R(e,i,H(n)||t.style,o)}function q(e,t,n,r){var i=ae.html[n];if(!i){throw new Error('Template parser not found: "'+n+'"')}return i(e,r,t)}var D=RegExp(/^([ \t]*)<([-\w]+)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",t),"gim"),z=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,U=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;function G(e,t,n){var r=[],i;if(!t)t={};i=t.exclude?function(e){return t.exclude.indexOf(e)<0}:function(){return 1};if(!n)n="";var o=h.array(t.brackets);if(t.template){e=q(e,n,t.template,t.templateOptions)}e=g(e).replace(D,function(e,f,a,u,s,c){var p="",d="",g="",h=[];h._bp=o;a=a.toLowerCase();u=u&&i("attribs")?y(v(m(u,t,h),h),h):"";if((s||(s=c))&&/\S/.test(s)){if(c){if(i("html"))g=x(c,t,h)}else{s=s.replace(RegExp("^"+f,"gm"),"");s=s.replace(U,function(e,r,o){if(i("css")){d+=(d?" ":"")+P(o,t,r,n,a)}return""});s=s.replace(z,function(e,r,o){if(i("js")){var f=K(o,t,r,n);if(f)p+=(p?"\n":"")+f}return""});var b=k(s.replace(l,""));if(i("html")){g=x(b[0],t,h)}if(i("js")){s=E(b[1],t,null,null,n);if(s)p+=(p?"\n":"")+s}}}p=/\S/.test(p)?p.replace(/\n{3,}/g,"\n\n"):"";if(t.entities){r.push({tagName:a,html:g,css:d,attribs:u,js:p});return""}return I(a,g,d,u,p,h)});if(t.entities)return r;return e}n.util.compiler={compile:G,html:b,css:j,js:N,version:"v2.3.22"};return G}();n.compile=function(){var e,r;function i(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===4&&(r.status===200||!r.status&&r.responseText.length)){t(r.responseText,n,e)}};r.open("GET",e,true);r.send("")}function o(e,t){if(typeof e===u){var n=W("script"),r=document.documentElement;if(t)e+="\n//# sourceURL="+t+".js";n.text=e;r.appendChild(n);r.removeChild(n)}}function f(t,n){var f=Y('script[type="riot/tag"]'),a=f.length;function u(){e.trigger("ready");r=true;if(t)t()}function s(e,t,n){var r=ue(e,t,n);o(r,n);if(!--a)u()}if(!a)u();else{for(var c=0;c<f.length;++c){var l=f[c],p=z({template:I(l,"template")},n),d=I(l,"src");d?i(d,s,p):s(l.innerHTML,p)}}}return function(a,c,l){if(typeof a===u){if(c&&typeof c===s){l=c;c=false}if(/^\s*</m.test(a)){var p=ue(a,l);if(c!==true)o(p);if(M(c))c(p,a,l);return p}i(a,function(e,t,n){var r=ue(e,t,n);o(r,n);if(c)c(r,e,t)})}else{if(M(a)){l=c;c=a}else{l=a;c=t}if(r){return c&&c()}if(e){if(c)e.on("ready",c)}else{e=n.observable();f(c,l)}}}}();var se=n.mount;n.mount=function(e,t,r){var i;n.compile(function(){i=se(e,t,r)});return i};if(typeof exports===s)module.exports=n;else if(typeof define===l&&typeof define.amd!==c)define(function(){return n});else e.riot=n})(typeof window!="undefined"?window:void 0);
